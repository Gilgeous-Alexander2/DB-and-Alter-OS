## Отчет по лабораторной работе №2

### 1) Утилиты резервного копирования

*Логический бэкап (pg_dump)* - это резервная копия, созданная на уровне SQL-запросов. \
Это означает, что вместо копирования физических файлов базы данных, \
логический бэкап генерирует набор SQL-команд, которые позволяют\
воссоздать структуру и содержимое базы данных.

Сценарии применения\
•	Перенос данных между различными версиями PostgreSQL или платформами.\
•	Резервное копирование одной базы данных (или её части, например, таблиц или схем).\
•	Создание выборочной копии (например, только схемы или только данные).\
•	Гибкость восстановления: можно восстановить отдельные объекты или изменить порядок восстановления.

Преимущества\
•	Подходит для переноса между различными версиями PostgreSQL или операционными системами.\
•	Возможность выборочного восстановления объектов.

*Физический бэкап (pd_basebackup)* — это метод резервного копирования,\
при котором производится прямое копирование бинарных файлов базы данных,\
включая файлы данных, журналы и индексные файлы. \
Это создание полной двоичной копии всех файлов, относящихся к кластеру базы данных.

Сценарии применения\
•	Настройка репликации: создание резервной копии для standby-сервера.\
•	Быстрое восстановление системы после сбоя.\
•	Point-In-Time Recovery (PITR): восстановление до определённой точки времени при наличии WAL-журналов.

Преимущества\
•	Полная копия кластера PostgreSQL, включая все базы данных.\
•	Подходит для быстрого восстановления.\
•	Возможность восстановления до любой точки времени при наличии архивированных WAL-журналов.

### 2) Установка PostgreSQL

Выполняем бэкапы бд:

![2](https://github.com/user-attachments/assets/446d8a7b-9e91-4b89-a9ec-43a74c64b800)

Разница между командами заключается в формате сохраняемой базы данных. \
По умолчанию бэкап базы сохраняется в формате plain text (набор sql команд). \
Не поддержиает выборочное восстановление.

-Fc – кастомный формат PostgreSQL, позволяет выборочно восстанавливать объекты,\
только схемы или данные например. Поддерживает восстановление с помощью pg_restore.

-Ft – формат архива tar, удобен для переносимости, так как создаёт единый файл,\
который можно легко переместить. Поддерживает восстановление с помощью pg_restore.

Доп. флаги:
•	-s: Сохраняет только схему базы данных (без данных).\
•	-a: Сохраняет только данные (без схемы).\
•	-t: Сохраняет данные только из указанной таблицы.\
•	-n: Сохраняет объекты из указанной схемы.

### 3) Создание служебной учётной записи

Сохраняем схему test_schema из dbalex:

![3](https://github.com/user-attachments/assets/54d66f9c-0ced-4bcc-a709-b4d089da1fd0)

Сохраняем две таблицы из схемы public в базе dbalex:

![3 1](https://github.com/user-attachments/assets/02ac44a8-a406-4feb-9695-b9139095cbe1)

![3 2](https://github.com/user-attachments/assets/1b6be1ba-ee62-4580-950d-ed8690b1d647)




