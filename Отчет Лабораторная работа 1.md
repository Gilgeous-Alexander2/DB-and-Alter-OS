## Отчет по лабораторной работе №1 

### 1) Подготовка среды 
Запускаю виртуальную машину на VM Virtual Box c установленной на нее ОС Linux Debian, \
выполняю вход в root и с помощью команды: sudo apt-get update проверяю доступные пакеты, \
с помощью команды: sudo apt-get upgrade обновляю эти пакеты

### 2) Установка PostgreSQL
С помощью команды: sudo apt-get install -y postgresql postgresql-contrib устананвливаю postgresql и его основные зависимости

### 3) Создание служебной учётной записи
С помощью команды: cat etc/passwd | grep postgres проверяю наличие учетной записи postgres в системе

пользоваель postgres – в системе linux обычный системный пользователь
Права:
1.	Может запускать и управлять процессами PostgreSQL. 
2.	Может читать и записывать файлы в /var/lib/postgresql/ (где хранятся базы данных).
3.	Может выполнять команды PostgreSQL (psql, pg_ctl, pg_dump и т. д.). Не имеет root-доступа и не может выполнять команды sudo.

### 4) Первичная настройка конфигурационных файлов 
sudo nano /etc/postgresql/15/main/postgresql.conf
С помощью команды: sudo nano /etc/postgresql/15/main/postgresql.conf захожу в файл конфигурации postgresql.conf
и меняю в строке: port = 5432 порт сервера с 5432 на 5433

### 5) Управление сервисом 
Проверяю статус сервера postgresql командой: sudo systemctl status postgresql \
Перезагружаю сервис командой sudo systemctl restart postgresql \
И добавляю автозапуск сервиса командой: sudo systemctl enable postgresql 

### 6) Создание тестовой базы данных 
Захожу в psql от имени postgres и создаю базу данных командой createuser –P alpopov \
Также создаю базу данных: createdb dbalpopov 

### 7) Знакомство со схемами 
Создаю схему test_schema: CREATE SCHEMA test_schema; \
Настраиваю полный доступ к схеме у пользователя alpopov: GRANT ALL ON SCHEMA test_schema ON alpopov.

### 8) Использование утилиты psql для базовых операций 
CREATE TABLE public.mytable (ID SERIAL PRIMARY KEY, Name VARCHAR (100)); - создание таблицы с двумя полями: id и Name \
UPDATE public.tmyable SET Name = ’aoaoa’ WHERE id = 3; - изменение информации в таблице где id = 3 \
INSERT INTO public.metable VALUES (id = 1, Name = ‘aoaoao’), (id = 2, Name = ‘aoaoao’); - добавление новых полей в таблицу \
SELECT * FROM public.mytable; - вывести все поля из таблицы mytable в схеме public \
DELETE ALL FROM public.mytable WHERE id = 2 OR name = ‘aoaoao’; – удалить строки из таблицы mytable  в схеме public, где id = 2 или name = ‘aoaoao’

### 9) Настройка локальных и сетевых подключений 

### 10)  Журналирование (logging)
log_statement – параметр определяющий, какие команды будут записываться в журнал логов\
logging_collector – делает логирование удобнее и кастомизируемым, например можно менять\
формат логов со стандартного stderr на jsonlog или csvlog.\
log_directory – директория логов

### 11)  Назначение ролей и прав
Назначение прав для limited_user1(от лица postgres): Grant select on public.mytable to limited_user1;
Вход в датабазу postgres: psql –h localhost –p 5433 –U limited_user1 –d postgres;
Создание роли и назначение ей прав: CREATE ROLE read_write_role;
GRANT SELECT, INSERT, UPDATE, DELETE ON TABLE public.mytable TO read_write_role;
Наследование прав от олной роли к другой: GRANT read_write_role TO limited_user;
Set role limited user;
